<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rqog">
<title>rqog-package for R • rqog</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Roboto%20Mono-0.4.0/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="rqog-package for R">
<meta property="og:description" content="rqog">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@rOpenGov">
<meta name="twitter:site" content="@rOpenGov">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=B612+Mono&amp;display=swap" rel="stylesheet">
<!-- rogtemplate style sheet --><link href="../BS5/rogtemplate.css" rel="stylesheet">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rqog</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.2022</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/rqog_tutorial.html">rqog-package for R</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rOpenGov/rqog">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="rqog_tutorial_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>rqog-package for R</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rOpenGov/rqog/blob/HEAD/vignettes/rqog_tutorial.Rmd" class="external-link"><code>vignettes/rqog_tutorial.Rmd</code></a></small>
      <div class="d-none name"><code>rqog_tutorial.Rmd</code></div>
    </div>

    
    
<!--
%\VignetteEngine{knitr::knitr}
%\VignetteIndexEntry{rqog Markdown Vignette made with knitr}
-->
<p><code>compiled at</code> 2022-02-01 13:24:30</p>
<p><em>Download data from the Quality of Government Institute data</em></p>
<p>Quotation from <a href="http://www.qog.pol.gu.se/" class="external-link">Quality of Governance institute website</a></p>
<blockquote>
<p>The QoG Institute was founded in 2004 by Professor Bo Rothstein and Professor Sören Holmberg. It is an independent research institute within the Department of Political Science at the University of Gothenburg. We conduct and promote research on the causes, consequences and nature of Good Governance and the Quality of Government (QoG) - that is, trustworthy, reliable, impartial, uncorrupted and competent government institutions.</p>
</blockquote>
<blockquote>
<p>The main objective of our research is to address the theoretical and empirical problem of how political institutions of high quality can be created and maintained. A second objective is to study the effects of Quality of Government on a number of policy areas, such as health, the environment, social policy, and poverty. We approach these problems from a variety of different theoretical and methodological angles.</p>
</blockquote>
<p><strong>Quality of Government institute</strong> provides data in five different data sets, both in cross-sectional and longitudinal versions:</p>
<ol style="list-style-type: decimal">
<li><a href="http://www.qog.pol.gu.se/data/datadownloads/qogbasicdata/" class="external-link">QoG Basic Data</a></li>
<li><a href="http://www.qog.pol.gu.se/data/datadownloads/qogstandarddata/" class="external-link">QoG Standard Data</a></li>
<li><a href="http://qog.pol.gu.se/data/datadownloads/qogoecddata" class="external-link">QoG OECD Data</a></li>
<li><a href="http://www.qog.pol.gu.se/data/datadownloads/qogexpertsurveydata/" class="external-link">QoG Expert Survey Data</a></li>
<li><a href="http://www.qog.pol.gu.se/data/datadownloads/qogeuregionaldata/" class="external-link">QoG EU Regional Data</a></li>
</ol>
<p><strong>rqog</strong>-package provides access to <strong>Basic</strong>, <strong>Standard</strong> and <strong>OECD</strong> datasets through function <code><a href="../reference/read_qog.html">read_qog()</a></code>. <strong>Standard</strong> data has all the same indicators as in <strong>Basic</strong> data (367 variables) and an additional ~1600 indicators. Both <strong>basic</strong> and <strong>standard</strong> datasets have 194 countries. <strong>OECD</strong> dataset has 1020 indicators from 35 countries. <strong>rqog</strong> uses <em>longitudinal</em> datasets by default that have time-series of varying duration from majority of the indicators and countries.</p>
<p>Quality of Government Institute provides codebooks for all datasets:</p>
<ol style="list-style-type: decimal">
<li><a href="http://www.qogdata.pol.gu.se/data/qog_bas_jan18.pdf" class="external-link">Basic data codebook</a></li>
<li><a href="http://www.qogdata.pol.gu.se/data/qog_std_jan18.pdf" class="external-link">Standard data codebook</a></li>
<li><a href="http://www.qogdata.pol.gu.se/data/qog_oecd_jan18.pdf" class="external-link">OECD data codebook</a></li>
</ol>
<p>You consult the codebooks for description of the data and indicators.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span>
<span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropengov/rqog"</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rqog</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="download-data-and-plot-numeric-indicators">Download data and plot numeric indicators<a class="anchor" aria-label="anchor" href="#download-data-and-plot-numeric-indicators"></a>
</h3>
<p><strong>Basic Data</strong></p>
<p>Basic data has a selection of most common indicators, 344 indicators from 211 countries. Below is an example on how to extract data on population and Democracy (Freedom House/Polity) index from BRIC-countries from 1990 to 2010 and to plot it.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rqog</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span>
<span class="co"># Download a local coppy of the file</span>
<span class="va">basic</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_qog.html">read_qog</a></span><span class="op">(</span>which_data<span class="op">=</span><span class="st">"basic"</span>, data_type <span class="op">=</span> <span class="st">"time-series"</span><span class="op">)</span>
<span class="co"># Subset the data</span>
<span class="va">dat.l</span> <span class="op">&lt;-</span> <span class="va">basic</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># filter years and countries</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">1990</span><span class="op">:</span><span class="fl">2010</span>,
         <span class="va">cname</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Russia"</span>,<span class="st">"China"</span>,<span class="st">"India"</span>,<span class="st">"Brazil"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># select variables</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">cname</span>,<span class="va">year</span>,<span class="va">p_polity2</span>,<span class="va">wdi_pop1564</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># gather to long format</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html" class="external-link">gather</a></span><span class="op">(</span><span class="va">.</span>, <span class="va">var</span>, <span class="va">value</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># remove NA values</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Plot</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">dat.l</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">value</span>,color<span class="op">=</span><span class="va">cname</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat.l</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">cname</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span>,
          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">value</span>,label<span class="op">=</span><span class="va">cname</span><span class="op">)</span>,
          hjust<span class="op">=</span><span class="fl">1</span>,vjust<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,size<span class="op">=</span><span class="fl">3</span>,alpha<span class="op">=</span><span class="fl">.8</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">var</span>, scales<span class="op">=</span><span class="st">"free"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Plotting QoG basic data"</span>,
       caption <span class="op">=</span> <span class="st">"Data: QoG Basic data"</span><span class="op">)</span></code></pre></div>
<p><img src="rqog_tutorial_files/figure-html/ExampleBasic-1.png" width="100%"></p>
<p><strong>Standard data</strong></p>
<p>Standard data includes 2190 indicators from 211 countries. Below is an example on how to extract data on <em>Economic Performance</em> and <em>GINI index (World Bank estimate)</em> from BRIC-countries and plot it.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rqog</span><span class="op">)</span>
<span class="co"># Download a local coppy of the file</span>
<span class="va">standard</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_qog.html">read_qog</a></span><span class="op">(</span><span class="st">"standard"</span>, <span class="st">"time-series"</span><span class="op">)</span>
<span class="co"># Subset the data</span>
<span class="va">dat.l</span> <span class="op">&lt;-</span> <span class="va">standard</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># filter years and countries</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">1990</span><span class="op">:</span><span class="fl">2020</span>,
         <span class="va">cname</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Russia"</span>,<span class="st">"China"</span>,<span class="st">"India"</span>,<span class="st">"Brazil"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># select variables</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">cname</span>,<span class="va">year</span>,<span class="va">bti_ep</span>,<span class="va">wdi_gini</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># gather to long format</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html" class="external-link">gather</a></span><span class="op">(</span><span class="va">.</span>, <span class="va">var</span>, <span class="va">value</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># remove NA values</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Plot the data</span>
<span class="co"># Plot</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">dat.l</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">value</span>,color<span class="op">=</span><span class="va">cname</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat.l</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">cname</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span>,
          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">value</span>,label<span class="op">=</span><span class="va">cname</span><span class="op">)</span>,
          hjust<span class="op">=</span><span class="fl">1</span>,vjust<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,size<span class="op">=</span><span class="fl">3</span>,alpha<span class="op">=</span><span class="fl">.8</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">var</span>, scales<span class="op">=</span><span class="st">"free"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Plotting QoG Standard data"</span>,
       caption <span class="op">=</span> <span class="st">"Data: QoG Standard data"</span><span class="op">)</span></code></pre></div>
<p><img src="rqog_tutorial_files/figure-html/ExampleStandard-1.png" width="100%"></p>
<p><strong>OECD data</strong></p>
<p>OECD data includes 1006 variables, but from a smaller number of wealthier countries of 36. In the example below four indicators:</p>
<ol style="list-style-type: decimal">
<li>Total expenditure on health <code>oecd_pphlthxp_t1c</code>
</li>
<li>Income inequality: GINI index (World Bank estimate) <code>wdi_gini</code>
</li>
<li>Gross National Income per Capita <code>oecd_natinccap_t1</code>
</li>
<li>Adjusted general government debt-to-GDP (excl. unfunded pension liability) <code>oecd_govdebt_t1</code>
</li>
</ol>
<p>We will include all the countries and all the years included in the data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rqog</span><span class="op">)</span>
<span class="co"># Download a local coppy of the file</span>
<span class="va">oecd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_qog.html">read_qog</a></span><span class="op">(</span><span class="st">"oecd"</span>, <span class="st">"time-series"</span><span class="op">)</span>
<span class="co"># Subset the data</span>
<span class="va">dat.l</span> <span class="op">&lt;-</span> <span class="va">oecd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># select variables</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">cname</span>,<span class="va">year</span>,<span class="va">oecd_pphlthxp_t1c</span>,<span class="va">wdi_gini</span>,<span class="va">oecd_natinccap_t1</span>,<span class="va">oecd_govdebt_t1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># gather to long format</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html" class="external-link">gather</a></span><span class="op">(</span><span class="va">.</span>, <span class="va">var</span>, <span class="va">value</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># remove NA values</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Plot the data</span>
<span class="co"># Plot</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">dat.l</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">value</span>,color<span class="op">=</span><span class="va">cname</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat.l</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">var</span>,<span class="va">cname</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span>,
          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">value</span>,label<span class="op">=</span><span class="va">cname</span><span class="op">)</span>,
          hjust<span class="op">=</span><span class="fl">1</span>,vjust<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,size<span class="op">=</span><span class="fl">3</span>,alpha<span class="op">=</span><span class="fl">.8</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">var</span>, scales<span class="op">=</span><span class="st">"free"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Plotting QoG OECD data"</span>,
       caption <span class="op">=</span> <span class="st">"Data: QoG OECD data"</span><span class="op">)</span></code></pre></div>
<p><img src="rqog_tutorial_files/figure-html/ExampleSocialPolicy-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="work-with-metadata-and-factor-indicators">Work with metadata and factor indicators<a class="anchor" aria-label="anchor" href="#work-with-metadata-and-factor-indicators"></a>
</h3>
<p>Packages is shipped with seven metadatas for each year (2016-2022) <code>meta_basic_cs_2022</code>, <code>meta_basic_ts_2022</code>, <code>meta_std_cs_2022</code>, <code>meta_std_ts_2022</code>, <code>meta_oecd_cs_2022</code> and <code>meta_oecd_ts_2022</code>. Data frames are generated from original <code>spss</code> versions of data using <code>tidymetadata::create_metadata()</code>-function.</p>
<p><strong>Browsing metadata</strong></p>
<p>You can browse the content by applying <code>grepl</code> to <code>name</code> column. Let’s find indicators containing term <code>Corruption</code> either in lower or uppercase.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rqog</span><span class="op">)</span>
<span class="va">meta_basic_ts_2022</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Corruption"</span>, <span class="va">meta_basic_ts_2022</span><span class="op">$</span><span class="va">name</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,<span class="op">]</span></code></pre></div>
<pre><code><span class="co">## <span style="color: #949494;"># A tibble: 10 × 5</span></span>
<span class="co">##    code       name                                             value label class</span>
<span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 1</span> bci_bci    The Bayesian Corruption Indicator                   <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span>    nume…</span>
<span class="co">## <span style="color: #BCBCBC;"> 2</span> ccp_cc     Corruption Commission Present in Constitution        1 1. Y… fact…</span>
<span class="co">## <span style="color: #BCBCBC;"> 3</span> ccp_cc     Corruption Commission Present in Constitution        2 2. No fact…</span>
<span class="co">## <span style="color: #BCBCBC;"> 4</span> ccp_cc     Corruption Commission Present in Constitution       90 90. … fact…</span>
<span class="co">## <span style="color: #BCBCBC;"> 5</span> ccp_cc     Corruption Commission Present in Constitution       96 96. … fact…</span>
<span class="co">## <span style="color: #BCBCBC;"> 6</span> ccp_cc     Corruption Commission Present in Constitution       97 97. … fact…</span>
<span class="co">## <span style="color: #BCBCBC;"> 7</span> ti_cpi     Corruption Perceptions Index                        <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span>    nume…</span>
<span class="co">## <span style="color: #BCBCBC;"> 8</span> vdem_corr  Political corruption index                          <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span>    nume…</span>
<span class="co">## <span style="color: #BCBCBC;"> 9</span> wbgi_cce   Control of Corruption, Estimate                     <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span>    nume…</span>
<span class="co">## <span style="color: #BCBCBC;">10</span> wdi_tacpsr CPIA transparency-accountability-corruption in …    <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span>    nume…</span></code></pre>
<p><strong>Assigning labels to values with metadata</strong></p>
<p>The data <code>rqoq</code> imports to R is in <code>.csv</code>-format without the labels and names shipped together with <code>spss</code> or <code>Stata</code> formats. As such it is the desired format to work with in R, especially with numeric indicators. However, many of the indicators in QoG are factors meaning that they have discrete values with a corresponding label. You can use the metadatas to assign labels for values of such indicators. Lets take the <code>ccp_cc</code> as an example below and first print the <code>value</code> and <code>label</code> colums of the data.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">meta_basic_ts_2022</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">code</span> <span class="op">==</span> <span class="st">"ccp_cc"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">value</span>,<span class="va">label</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## <span style="color: #949494;"># A tibble: 5 × 2</span></span>
<span class="co">##   value label                                  </span>
<span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                  </span>
<span class="co">## <span style="color: #BCBCBC;">1</span>     1 1. Yes                                 </span>
<span class="co">## <span style="color: #BCBCBC;">2</span>     2 2. No                                  </span>
<span class="co">## <span style="color: #BCBCBC;">3</span>    90 90. left explicitly to non-constitution</span>
<span class="co">## <span style="color: #BCBCBC;">4</span>    96 96. Other                              </span>
<span class="co">## <span style="color: #BCBCBC;">5</span>    97 97. Unable to determine</span></code></pre>
<p>Currently we have basic data in R in an object called <code>basic</code>. Lets see the frequencies of each value</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">basic</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">ccp_cc</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##   ccp_cc    n</span>
<span class="co">## 1      1  527</span>
<span class="co">## 2      2 8999</span>
<span class="co">## 3     96  253</span>
<span class="co">## 4     NA 5389</span></code></pre>
<p>Now, using the metadata with assign values with corresponding labels</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">basic</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">ccp_cc</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ccp_cc_lab <span class="op">=</span> <span class="va">meta_basic_ts_2022</span><span class="op">[</span><span class="va">meta_basic_ts_2022</span><span class="op">$</span><span class="va">code</span> <span class="op">==</span> <span class="st">"ccp_cc"</span>,<span class="op">]</span><span class="op">$</span><span class="va">label</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="va">ccp_cc</span>,<span class="va">meta_basic_ts_2022</span><span class="op">[</span><span class="va">meta_basic_ts_2022</span><span class="op">$</span><span class="va">code</span> <span class="op">==</span> <span class="st">"ccp_cc"</span>,<span class="op">]</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##   ccp_cc    n ccp_cc_lab</span>
<span class="co">## 1      1  527     1. Yes</span>
<span class="co">## 2      2 8999      2. No</span>
<span class="co">## 3     96  253  96. Other</span>
<span class="co">## 4     NA 5389       &lt;NA&gt;</span></code></pre>
<p>So, lets find two factor variables with few more values from the <em>cross-sectional</em> data</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">meta_basic_cs_2022</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">class</span> <span class="op">==</span><span class="st">"factor"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">code</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>n_of_values <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n_of_values</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## <span style="color: #949494;"># A tibble: 20 × 2</span></span>
<span class="co">##    code         n_of_values</span>
<span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 1</span> gol_pr                28</span>
<span class="co">## <span style="color: #BCBCBC;"> 2</span> gol_est_spec          12</span>
<span class="co">## <span style="color: #BCBCBC;"> 3</span> ht_colonial           11</span>
<span class="co">## <span style="color: #BCBCBC;"> 4</span> ht_region             10</span>
<span class="co">## <span style="color: #BCBCBC;"> 5</span> cpds_tg                7</span>
<span class="co">## <span style="color: #BCBCBC;"> 6</span> ccp_slave              6</span>
<span class="co">## <span style="color: #BCBCBC;"> 7</span> ccp_cc                 5</span>
<span class="co">## <span style="color: #BCBCBC;"> 8</span> ccp_childwrk           5</span>
<span class="co">## <span style="color: #BCBCBC;"> 9</span> ccp_equal              5</span>
<span class="co">## <span style="color: #BCBCBC;">10</span> ccp_freerel            5</span>
<span class="co">## <span style="color: #BCBCBC;">11</span> gd_ptsa                5</span>
<span class="co">## <span style="color: #BCBCBC;">12</span> gd_ptsh                5</span>
<span class="co">## <span style="color: #BCBCBC;">13</span> lp_legor               5</span>
<span class="co">## <span style="color: #BCBCBC;">14</span> ccp_strike             4</span>
<span class="co">## <span style="color: #BCBCBC;">15</span> fhn_fotnst             3</span>
<span class="co">## <span style="color: #BCBCBC;">16</span> gol_est                3</span>
<span class="co">## <span style="color: #BCBCBC;">17</span> nelda_mbbe             3</span>
<span class="co">## <span style="color: #BCBCBC;">18</span> nelda_mtop             3</span>
<span class="co">## <span style="color: #BCBCBC;">19</span> nelda_oa               3</span>
<span class="co">## <span style="color: #BCBCBC;">20</span> nelda_rpae             3</span></code></pre>
<p>Lets take these two factors and summarise the regime types per regions</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">meta_basic_cs_2022</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">code</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ht_region"</span>,<span class="st">"ht_colonial"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="va">code</span>, .keep_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## <span style="color: #949494;"># A tibble: 2 × 5</span></span>
<span class="co">##   code        name                      value label                        class</span>
<span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="co">## <span style="color: #BCBCBC;">1</span> ht_colonial Colonial Origin               0 0. Never colonized by a Wes… fact…</span>
<span class="co">## <span style="color: #BCBCBC;">2</span> ht_region   The Region of the Country     1 1. Eastern Europe and post … fact…</span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># lets download the cross-sectional data first</span>
<span class="va">basic_cs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_qog.html">read_qog</a></span><span class="op">(</span>which_data <span class="op">=</span> <span class="st">"basic"</span>, data_type <span class="op">=</span> <span class="st">"cross-sectional"</span><span class="op">)</span>

<span class="va">plot_d</span> <span class="op">&lt;-</span> <span class="va">basic_cs</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># group by region</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">ht_region</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># count per group frequencies of each regime type</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">ht_colonial</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="co"># label</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ht_region_lab <span class="op">=</span> <span class="va">meta_basic_ts_2022</span><span class="op">[</span><span class="va">meta_basic_ts_2022</span><span class="op">$</span><span class="va">code</span> <span class="op">==</span> <span class="st">"ht_region"</span>,<span class="op">]</span><span class="op">$</span><span class="va">label</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="va">ht_region</span>,<span class="va">meta_basic_ts_2022</span><span class="op">[</span><span class="va">meta_basic_ts_2022</span><span class="op">$</span><span class="va">code</span> <span class="op">==</span> <span class="st">"ht_region"</span>,<span class="op">]</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">]</span>,
         ht_colonial_lab <span class="op">=</span> <span class="va">meta_basic_ts_2022</span><span class="op">[</span><span class="va">meta_basic_ts_2022</span><span class="op">$</span><span class="va">code</span> <span class="op">==</span> <span class="st">"ht_colonial"</span>,<span class="op">]</span><span class="op">$</span><span class="va">label</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="va">ht_colonial</span>,<span class="va">meta_basic_ts_2022</span><span class="op">[</span><span class="va">meta_basic_ts_2022</span><span class="op">$</span><span class="va">code</span> <span class="op">==</span> <span class="st">"ht_colonial"</span>,<span class="op">]</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">plot_d</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">##   ht_region ht_colonial     n ht_region_lab                      ht_colonial_lab</span>
<span class="co">##       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          </span>
<span class="co">## <span style="color: #BCBCBC;">1</span>         1           0    28 1. Eastern Europe and post Soviet… 0. Never colon…</span>
<span class="co">## <span style="color: #BCBCBC;">2</span>         2           2    18 2. Latin America                   2. Spanish     </span>
<span class="co">## <span style="color: #BCBCBC;">3</span>         2           6     1 2. Latin America                   6. French      </span>
<span class="co">## <span style="color: #BCBCBC;">4</span>         2           7     1 2. Latin America                   7. Portuguese  </span>
<span class="co">## <span style="color: #BCBCBC;">5</span>         3           0     4 3. North Africa &amp; the Middle East  0. Never colon…</span>
<span class="co">## <span style="color: #BCBCBC;">6</span>         3           3     1 3. North Africa &amp; the Middle East  3. Italian</span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># lets abbreviate option '0. Never colonized by a Western overseas colonial power' to '0. Never'</span>
<span class="va">plot_d</span><span class="op">$</span><span class="va">ht_colonial_lab</span><span class="op">[</span><span class="va">plot_d</span><span class="op">$</span><span class="va">ht_colonial_lab</span> <span class="op">==</span> <span class="st">"0. Never colonized by a Western overseas colonial power"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">'0. Never'</span></code></pre></div>
<p>Then we can create a simple bar plot</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># indicators names from metadata</span>
<span class="va">ind_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">meta_basic_cs_2022</span><span class="op">[</span><span class="va">meta_basic_cs_2022</span><span class="op">$</span><span class="va">code</span> <span class="op">==</span> <span class="st">"ht_colonial"</span>,<span class="op">]</span><span class="op">$</span><span class="va">name</span><span class="op">)</span>
<span class="va">group_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">meta_basic_cs_2022</span><span class="op">[</span><span class="va">meta_basic_cs_2022</span><span class="op">$</span><span class="va">code</span> <span class="op">==</span> <span class="st">"ht_region"</span>,<span class="op">]</span><span class="op">$</span><span class="va">name</span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">plot_d</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">ht_colonial_lab</span>,y<span class="op">=</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">ht_region_lab</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ind_name</span>,<span class="st">" by "</span>,<span class="va">group_name</span> <span class="op">)</span>, 
       caption <span class="op">=</span> <span class="st">"Data: Quality of Government institute"</span>, x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="st">"number of countries"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="rqog_tutorial_files/figure-html/unnamed-chunk-10-1.png" width="100%"></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## R version 4.1.2 (2021-11-01)</span>
<span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span>
<span class="co">## Running under: Ubuntu 20.04.3 LTS</span>
<span class="co">## </span>
<span class="co">## Matrix products: default</span>
<span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0</span>
<span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0</span>
<span class="co">## </span>
<span class="co">## locale:</span>
<span class="co">##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span>
<span class="co">##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span>
<span class="co">##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span>
<span class="co">## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span>
<span class="co">## </span>
<span class="co">## attached base packages:</span>
<span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span class="co">## </span>
<span class="co">## other attached packages:</span>
<span class="co">## [1] tidyr_1.2.0   ggplot2_3.3.5 dplyr_1.0.7   rqog_0.4.2022</span>
<span class="co">## </span>
<span class="co">## loaded via a namespace (and not attached):</span>
<span class="co">##  [1] tidyselect_1.1.1  xfun_0.29         bslib_0.3.1       purrr_0.3.4      </span>
<span class="co">##  [5] haven_2.4.3       colorspace_2.0-2  vctrs_0.3.8       generics_0.1.2   </span>
<span class="co">##  [9] htmltools_0.5.2   yaml_2.2.2        utf8_1.2.2        rlang_1.0.0      </span>
<span class="co">## [13] pkgdown_2.0.2     jquerylib_0.1.4   pillar_1.7.0      glue_1.6.1       </span>
<span class="co">## [17] withr_2.4.3       readxl_1.3.1      lifecycle_1.0.1   stringr_1.4.0    </span>
<span class="co">## [21] munsell_0.5.0     gtable_0.3.0      cellranger_1.1.0  ragg_1.2.1       </span>
<span class="co">## [25] memoise_2.0.1     evaluate_0.14     labeling_0.4.2    knitr_1.37       </span>
<span class="co">## [29] forcats_0.5.1     fastmap_1.1.0     fansi_1.0.2       highr_0.9        </span>
<span class="co">## [33] Rcpp_1.0.8        scales_1.1.1      cachem_1.0.6      desc_1.4.0       </span>
<span class="co">## [37] jsonlite_1.7.3    farver_2.1.0      systemfonts_1.0.3 fs_1.5.2         </span>
<span class="co">## [41] textshaping_0.3.6 hms_1.1.1         digest_0.6.29     stringi_1.7.6    </span>
<span class="co">## [45] rprojroot_2.0.2   grid_4.1.2        cli_3.1.1         tools_4.1.2      </span>
<span class="co">## [49] magrittr_2.0.2    sass_0.4.0        tibble_3.1.6      crayon_1.4.2     </span>
<span class="co">## [53] pkgconfig_2.0.3   ellipsis_0.3.2    rmarkdown_2.11    R6_2.5.1         </span>
<span class="co">## [57] compiler_4.1.2</span></code></pre>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Markus Kainu.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

    <!-- Add ropengov logo -->
  <script src="../BS5/logo.js"></script>
</body>
</html>
